---
layout: post
title: Дополнительные данные в GA. Custom Dimensions и Metrics, Calculated Metrics, Data Import
comments: true
category: Web-analytics
tags: google-analytics
---

## Custom Dimensions

Находятся они в администрировании на уровне ресурса в папке custom definitions.

<img src="/assets/img/2020-06-06-dop-dannye/1.png">

Небольшое напоминание о том, что такое Dimensions и Metrics.

<img src="/assets/img/2020-06-06-dop-dannye/2.png">

По такому же принципу будут наши Custom Dimensions.

Иногда может быть такое, что у нас есть какой-то числовой параметр, который там что-то считает, но нам лучше запихнуть его в параметры. Именно **показатели в параметры**. Когда у нас есть какое-то числовое значение, которое не должно суммироваться, а оно описывает какую-либо сущность, то мы можем записать ее в параметры.

**Обратим внимание на ```scope``` на скрине "По 20 параметров и 20 метрик"**

Scope - это область видимости.

<img src="/assets/img/2020-06-06-dop-dannye/3.png">

Здесь у нас пользователи со всей историей. Тут стоит вспомнить отчет User Explorer, там можно посмотреть всю историю пользователя на сайте: все его сессии, разбитые по датам, все хиты и все другие взаимодействия. Это может быть просмотр страницы, событие, транзакция, временные штуки. 

На скрине у нас есть 5 пользователей, которые делают какое-то количество сессий. Сама сессия состоит их хитов. И вот первый пользователь сделал на третий хит первой сессия транзакцию на 100$. 

Голубой купил с первого раза на 50$. 

У нас есть 4 разные области действия (Hit, Session, User, Product) тех метрик, которые у нас есть уже внутри GA и тех метрик, котоыре мы можем расширять. Они могут быть типом:

- **Hit** - пользователь сделал что-то одно: открыл страницу, отправил событие и тп. Мы можем сделать Custom Dimension типа Hit, мы будем расширять знания об одном этом действии, например, пользователь открыл страницу (продуктовую) и мы будем расширять знания, узнаем название товара, цвет товара, модель продукта, цена. То есть во время хита мы отправляем еще дополнительные данные об этой странице;
- **Session**. Какие Custom Dimensions мы можем сделать для Сессии? Какие действия он делает на сайте, положил ли он в корзину что-нибудь;
- **User**;
- **Product**. Он работает только для е-коммерса (расширенного и обычного), у нас есть бренд, вариант товара, по сути поле, в котрое мы можем что-то записать, для одежды запишем размер. Иногда нужно передать больше характеристик товара. Типа мы можем указать вес товара и потом посмотреть сколько по весу у нас купили товара;

На основе этих данных мы можем сделать алгоритм, который бы предлагал товар определенному юзеру нужного ему размера, бренда и тп.

**Все это находится на уровне ресурса**

<img src="/assets/img/2020-06-06-dop-dannye/4.png">

### Примеры Hit

**dimension**

- расширенные показатели клика в Яндекс Директ
- цена товара, id товара, тип страницы для динам. ремаркетинга
- своя структура категорий или авторы/названия статей
- товар не в наличии/снят с производства
- дней назад опубликовано
- дата публикации

**metrics**

- количество отзывов
- score по навигации

### Примеры Session

- авторизирован
- оператор, работающий с клиентом
- в группе А эксперимента

### Примеры User

- сustomerID;
- женат/замужем;
- горячий/теплый/холодный контакт;
- есть ли скидочная карта;
- роль пользователя (Админ, покупатель, продавец);
- источник-канал первого контакта ;
- количество транзакций или общий доход;
- дата регистрации;

### Примеры Product

**dimension**

- товар, купленный в кредит
- цвет товара
- разрешение экрана телефона

**metrics**

- вес товара
- наценка на товар

**Пример с размером одежды**

<img src="/assets/img/2020-06-06-dop-dannye/5.png">

**Пример со своей структурой и временем загрузки**

<img src="/assets/img/2020-06-06-dop-dannye/6.png">

**Пример со скидками**

<img src="/assets/img/2020-06-06-dop-dannye/7.png">

**Качество взаимодействия с элементами**

<img src="/assets/img/2020-06-06-dop-dannye/8.png">

**Эффективность контента**

<img src="/assets/img/2020-06-06-dop-dannye/9.png">

**Информация о транзакциях**

<img src="/assets/img/2020-06-06-dop-dannye/10.png">

### Как заполнять значениями

- Импорт расходов - можно импортировать в CSV данные
- Measurement Protocol - способ передачи данных вне сайта
- GTM
- Дорабатываем код GA

Используя UTM метки, мы 
- передаем: 
- кампанию 
- источник 
- канал 
- ключевой запрос

**Задача**
<div class="message">
Сделать кастомный отчет с sales region и country, а также с метриками revenue и sessions.

Дать ответ на вопрос: какая страна в зоне EMEA с трафиком более 2000 сессий принесла больше всего дохода.

<img src="/assets/img/2020-06-06-dop-dannye/11.png">

<img src="/assets/img/2020-06-06-dop-dannye/12.png">

**Готово**

</div>

## Calculated Metrics

<img src="/assets/img/2020-06-06-dop-dannye/13.png">
<img src="/assets/img/2020-06-06-dop-dannye/14.png">
<img src="/assets/img/2020-06-06-dop-dannye/15.png">
<img src="/assets/img/2020-06-06-dop-dannye/16.png">

[Ссылка на статью про настройку Calculated Metrics](https://thenextweb.com/insider/2016/09/27/24-examples-google-analytics-calculated-metrics/)

<img src="/assets/img/2020-06-06-dop-dannye/17.png">

Пример настроенной calculated metric

<img src="/assets/img/2020-06-06-dop-dannye/18.png">

<div class="message">
Период 1 января 2016 — сегодня

Сделать кастомный отчет с параметром city и метриками — revenue, revenue per user, conv rate per user

Дать ответ на вопрос: какой город дает больший revenue per user при conv rate per user > 10 и revenue > 10 000.

<img src="/assets/img/2020-06-06-dop-dannye/19.png">
</div>


## Data Import

Что можно загружать:

- Данные о расходах по РК;
- Информацию про пользователей;
- Информацию про товар;
- Возвраты в эл. торговле;
- Данные о контенте;
- Всё остальное.

А также, можем загружать:

- Лояльность клиента;
- Характеристики товара (цвет, размер);
- Сведения о контенте (автор, дата публикации);
- Данные о наличии товара;
- Возвраты товара.

**Как сделать импорт данных**

В панели администратора на уровене Ресурса

<img src="/assets/img/2020-06-06-dop-dannye/20.png">

Определяем ключ

<img src="/assets/img/2020-06-06-dop-dannye/21.png">

Создаем схему

<img src="/assets/img/2020-06-06-dop-dannye/22.png">

Сохраняем схему, скачиваем шаблон, заружаем схему.















