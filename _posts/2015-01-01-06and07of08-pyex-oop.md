---
layout: post
category: python
title: 'PyEx 06-07/08. ООП'
---

Создание копии экемпляра класса. Можно сделать поверхностную копию объекта, а можно полную. При поверхностной если мы изменим значение атрибутов, то изменится и у скопированного объекта.

```python
from copy import copy 
from copy import deepcopy

class MyClass:
    def __init__(self, name, nums):
        self.name = name
        self.nums = nums
    
    def show(self):
        print('name => ', self.name)
        print('nums => ', self.nums)
    
x = MyClass("python", [1, 2, 3])
print('Экземпляр X')
x.show()


y = copy(x)
z = deepcopy(x)

print("экземпляр Y")
y.show()
print("экземпляр Z")
z.show()
print("Пoля экземпляра х изменяются!")

x.name = "Java"
x.nums[0] = 0
print("экземпляр X")
x.show()
print("экземпляр Y")
y.show()
print("экземпляр Z")
z.show()

>>> Экземпляр X
>>> name =>  python
>>> nums =>  [1, 2, 3]
>>> экземпляр Y
>>> name =>  python
>>> nums =>  [1, 2, 3]
>>> экземпляр Z
>>> name =>  python
>>> nums =>  [1, 2, 3]
>>> Пoля экземпляра х изменяются!
>>> экземпляр X
>>> name =>  Java
>>> nums =>  [0, 2, 3]
>>> экземпляр Y
>>> name =>  python
>>> nums =>  [0, 2, 3]
>>> экземпляр Z
>>> name =>  python
>>> nums =>  [1, 2, 3]
```

Полная копия не изменилась

В общем смысле класс - это некоторый шаблон, по которому создают­ ся объекты. Объект, в свою очередь, объединяет в одно делое данные и функц11и (или методы) для обработки этих данных.

Объекты, создаваемые на основе класса, называют экземплярами класса. Сам класс в Python также является объектом.

Переменные, объявленные в классе, называются полями класса. Пере­менные, связанные с экземплярами класса, называются полями экзем­пляра класса. Функции, описанные в классе, называют функциями класса. Функции, связанные с экземплярами класса, называются мето­дами экземпляра кл().сса. Поля и методы (функции) называются атрибу­тами (класса или экземпляра класса соответственно).


##Наследование

В результате наследования все поля и функции из базового класса неявным образом "наследуются" в производном классе.

При наследовании существует возможность переопределять поля и мето­ ды, нас:ледованные в производном классе из базового. Общая идея состоит в том, что поле или метод, которые наследуются из базового класса, в произ­ водном классе создаются заново.

###Переопределение методов

Переопределение методов осуществляется с помощью функции ```super()```

```python
class BaseClass:
    def __init__(self, num):
        self.id = num
    
    def get(self):
        print("ID:", self.id)

    def show(self):
        print('Поле экземпляра базового класса')
        self.get()

class NewClass(BaseClass):
    def __init__(self, num, txt):
        super().__init__(num)
        self.name = txt
    
    def get(self):
        super().get()
        print("name", self.name)

obj_base = BaseClass(1)
obj_base.show()

obj_new = NewClass(10, "десятка")
obj_new.show()

>>> Поле экземпляра базового класса
>>> ID: 1
>>> Поле экземпляра базового класса
>>> ID: 10
>>> name десятка
```

##Специальные методы и поля

Эти поля доступны для каждого класса и/или экземпляра по умолчанию.

- ```__bases__``` - Возвращается список базовых классов
- ```__dict__``` - Возвращается словарь с атрибутами класса
- ```__doc__``` - Возвращается текст документирования класса (текст, описывающий класс). Текст документиро- вания можно непосредственно указать в теле клас- са первой строкой или присвоить полю значение.
- ```__module__``` - Возвращается модул ь класса
- ```__mro__``` - Возвращается цепочка наследования класса
- ```__name__``` - Возвращается имя класса
- ```__qualnarne__``` - Возвращается полное имя класса (в точечном формате, отображающем структуру вложенных классов)

Полезная функция dir(), которая позволяет получить список атрибутов (полей и методов) экземпляра класса.

```__call()__``` - если в классе описан этот метод, то экземпляр класса можно вызывать как функцию.













